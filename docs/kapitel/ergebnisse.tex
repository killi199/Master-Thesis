\chapter{Ergebnisse}
\label{chap:ergebnisse}
% TODO darauf achten, dass jede Grafik mindestens einmal im Text referenziert wird
In diesem Kapitel werden die Ergebnisse der Masterarbeit präsentiert.
Das Kapitel ist in zwei Abschnitte unterteilt.
Zum einen werden die Ergebnisse der Gegenwart in \autoref{sec:neuste_ergebnisse} präsentiert.
Hierbei werden die jeweils neusten Dateien aus der Datenbeschaffung untersucht und Statistiken aufgeführt, welche in Verbindung mit diesen Daten stehen.
Zum anderen werden die Ergebnisse mit Zeitverlauf in \autoref{sec:gesamtheit_ergebnisse} präsentiert.
Hierbei werden die Dateien aus der Datenbeschaffung in allen Versionen analysiert.
Durch die Betrachtung aller Versionen können Veränderungen über die Zeit aufgezeigt werden und somit eine Aussage über die Entwicklung der Zitationen getroffen werden.
In beiden Abschnitten wird zu Beginn auf die Statistiken des Abgleichs eingegangen und präsentiert, wie genau der Abgleich durchgeführt wurde.
Der Abgleich hat einen direkten Einfluss auf viele weitere Statistiken.

Die benötigten Daten für die Untersuchungen wurden in der Zeitspanne September 2024 bis November 2024 beschafft.
Dies liegt daran, dass die Repositorys lokal gespeichert werden und bei der Entwicklung der Arbeit die Daten nicht erneut beschafft werden mussten.
Die Daten einer Liste wurden jeweils an einem Tag beschafft, um eine Vergleichbarkeit zu gewährleisten.
In dem gesamten Kapitel wird \emph{matplotlib} in der Version 3.9.2 verwendet, um die Grafiken zu erstellen \autocite{hunter_matplotlib_2007}.

\section{Ergebnisse der Gegenwart}
\label{sec:neuste_ergebnisse}
% TODO auf meine Ergebnisse vom Matching eingehen (False Positives, False Negatives, True Positives, True Negatives)
% TODO Auf average_time_last_update_cff eingehen
% TODO auf average_time_last_update_bib eingehen
% TODO auf average_time_last_update_readme eingehen
% TODO auf similarity_with_non_matches eingehen
% TODO auf similarity_without_non_matches eingehen
% TODO Die komplizierten Grafiken gut erklären! Auch mit eins zwei beispielen z.B. bei 20 betrachteten autoren...  sind 40% blablabla



% TODO anekdotisch untermauern mit eins zwei bsp. warum einige linien unten erst bei x=1 oder 2 beginnen. Eins zwei pakete nennen bei denen die ersten committer nicht genannt werden.
% TODO Beispiele geben mit konkreten Zahlen
% TODO sagen, was es mit den Linien im Hintergrund auf sich hat.
\begin{figure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors/1_pypi_cff.svg}
        \caption{\gls{pypi} \gls{cff} nach Commits}
        \label{fig:common_authors_pypi_cff}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors_by_files/1_pypi_cff_by_files.svg}
        \caption{\gls{pypi} \gls{cff} nach geänderten Zeilen}
        \label{fig:common_authors_by_files_pypi_cff}
    \end{subfigure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors/1_cran_cff.svg}
        \caption{\gls{cran} \gls{cff} nach Commits}
        \label{fig:common_authors_cran_cff}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors_by_files/1_cran_cff_by_files.svg}
        \caption{\gls{cran} \gls{cff} nach geänderten Zeilen}
        \label{fig:common_authors_by_files_cran_cff}
    \end{subfigure}
    \caption{Anteil der Top Git Autoren an den genannten Autoren}
    \label{fig:common_authors}
    \small
    \raggedright
    Die Abbildungen zeigen für die Pakete in den Listen \gls{pypi} \gls{cff} und \gls{cran} \gls{cff} den Anteil der Top Git Autoren in der Zitation. Die Linien stellen die unterschiedlichen Quellen dar. Auf der x Achse wird die Anzahl der betrachteten Git Autoren für \autoref{fig:common_authors_pypi_cff} und \autoref{fig:common_authors_cran_cff} sortiert nach der Anzahl der Commits und für \autoref{fig:common_authors_by_files_pypi_cff} und \autoref{fig:common_authors_by_files_cran_cff} sortiert nach der Anzahl der geänderten Zeilen angegeben. Die y Achse stellt jeweils den Anteil der genannten Autoren an den Git Autoren dar. Für die blaue Linie in \autoref{fig:common_authors_pypi_cff} gilt: Die Top x Commiter sind zu y \% in der \gls{cff} gelistet.
\end{figure}

% TODO Beispiele geben mit konkreten Zahlen
% TODO sagen, was es mit den Linien im Hintergrund auf sich hat.
\begin{figure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors_2/2_pypi_cff.svg}
        \caption{\gls{pypi} \gls{cff} nach Commits}
        \label{fig:common_authors_2_pypi_cff}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors_2_by_files/2_pypi_cff_by_files.svg}
        \caption{\gls{pypi} \gls{cff} nach geänderten Zeilen}
        \label{fig:common_authors_2_by_files_pypi_cff}
    \end{subfigure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors_2/2_cran_cff.svg}
        \caption{\gls{cran} \gls{cff} nach Commits}
        \label{fig:common_authors_2_cran_cff}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/common_authors_2_by_files/2_cran_cff_by_files.svg}
        \caption{\gls{cran} \gls{cff} nach geänderten Zeilen}
        \label{fig:common_authors_2_by_files_cran_cff}
    \end{subfigure}
    \caption{Anteil der genannten Autoren unter den Top Git Autoren}
    \label{fig:common_authors_2}
    \small
    \raggedright
    Die Abbildungen zeigen für die Pakete in den Listen \gls{pypi} \gls{cff} und \gls{cran} \gls{cff} den Anteil der genannten Autoren unter den Top Git Autoren. Die Linien stellen die unterschiedlichen Quellen dar. Auf der x Achse wird die Anzahl der betrachteten Git Autoren für \autoref{fig:common_authors_pypi_cff} und \autoref{fig:common_authors_cran_cff} sortiert nach der Anzahl der Commits und für \autoref{fig:common_authors_by_files_pypi_cff} und \autoref{fig:common_authors_by_files_cran_cff} sortiert nach der Anzahl der geänderten Zeilen angegeben. Die y Achse stellt jeweils den Anteil der genannten Autoren an den Git Autoren dar. Für die blaue Linie in \autoref{fig:common_authors_pypi_cff} gilt: In der \gls{cff} sind y \% unter den Top x Commitern.
\end{figure}

% TODO Beispiele geben mit konkreten Zahlen
% TODO sagen, was es mit den Linien im Hintergrund auf sich hat.
\begin{figure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/total_authors_no_commits/3_pypi_cff.svg}
        \caption{\gls{pypi} \gls{cff}}
        \label{fig:total_authors_no_commits_pypi_cff}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/total_authors_no_commits/3_cran_cff.svg}
        \caption{\gls{cran} \gls{cff}}
        \label{fig:total_authors_no_commits_cran_cff}
    \end{subfigure}
    \caption{Autoren ohne Commits}
    \label{fig:total_authors_no_commits}
    \small
    \raggedright
    Die Abbildungen zeigen für die Pakete in den Listen \gls{pypi} \gls{cff} und \gls{cran} \gls{cff} den Anteil der Autoren ohne Commits. Die Linien stellen die unterschiedlichen Quellen dar. Auf der x Achse werden die Jahre dargestellt. Die y Achse stellt den Anteil der Autoren ohne Commits dar. Für die blaue Linie gilt in beiden Abbildungen: y \% der Autoren in der \gls{cff} haben seit dem Jahr x keinen Commit getätigt. Das Ende der x Achse stellt den Tag der Datenbeschaffung dar.
\end{figure}

\begin{figure}
    \centering
    \includesvg[width=.5\textwidth,inkscapelatex=false]{bilder/overall_valid_cff.svg}
    \label{fig:overall_valid_cff}
    \caption{Validität der \gls{cff} Dateien}
    \small
    \raggedright
    Die Abbildung zeigt für die verschiedenen analysierten Listen, wie viele der vorhandenen \gls{cff} Dateien valide sind, und ob \emph{cffinit} verwendet wurde oder nicht. Es wird nur die jeweils neuste \gls{cff} Datei betrachtet.
\end{figure}

\begin{figure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/citation_counts_cff.svg}
        \caption{\gls{cff}}
        \label{fig:citation_counts_cff}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/citation_counts_preferred_citation_cff.svg}
        \caption{\glqq preferred-citation\grqq{} \gls{cff}}
        \label{fig:citation_counts_preferred_citation_cff}
    \end{subfigure}
    \centering
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/citation_counts_bib.svg}
        \caption{\hologo{BibTeX}}
        \label{fig:citation_counts_bib}
    \end{subfigure}
    \caption{Typ der angegebenen Zitationen der einzelnen Quellen}
    \small
    \raggedright
    Die Abbildungen zeigen für die drei unterschiedlichen Quellen, jeweils für alle fünf untersuchten Listen, welcher Typ von Zitation angegeben wurde. Es ist darauf zu achten, dass die y Achsen unterschiedlich skaliert sind.
\end{figure}

\begin{figure}
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/cff_doi.svg}
        \caption{\gls{cff}}
        \label{fig:cff_doi}
    \end{subfigure}%
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/preferred_citation_doi.svg}
        \caption{\glqq preferred-citation\grqq{} \gls{cff}}
        \label{fig:preferred_citation_doi}
    \end{subfigure}
    \centering
    \begin{subfigure}{.5\textwidth}
        \centering
        \includesvg[width=.95\linewidth,inkscapelatex=false]{bilder/bib_doi.svg}
        \caption{\hologo{BibTeX}}
        \label{fig:bib_doi}
    \end{subfigure}
    \caption{Verwendung von DOIs in den Zitationen der einzelnen Quellen}
    \small
    \raggedright
    Die Abbildungen zeigen für die drei unterschiedlichen Quellen, jeweils für alle fünf untersuchten LIsten, wie oft eine DOI in verschiedenen Versionen in den Zitationen angegeben wurde.
\end{figure}

\section{Ergebnisse mit Zeitverlauf}
\label{sec:gesamtheit_ergebnisse}
% TODO Pakete, welche händisch geprüft wurden hier erwähnen git #20
% TODO Das Ergebnis explizit zeigen/ Die Situation in den Tabellen explizit erklären!/ Haben wir überhaupt einen Grund das zu machen was wir machen?/ Tabellen erklären! -> zeigen und erklären, dass einige nicht genannt werden
% TODO Auf das Prinzip 1 eingehen, dass wichtigkeit besonders vernachlässigt wird bei prefrerred Zitation -> zeige ich in den Ergebnissen wobei nur weil preferred citation angegeben ist heißt es nicht, dass paper nur das zitieren sie sollten beides zitieren. Aber wenn die Standard zitation article angibt und keine preferred citation auf die software verweist dann ist kacka
% TODO bei cff sagen, dass von 100 top repos x pypi x cran und x andere sind
% TODO Es werden alle Namen ausgegeben in den Beschreibungen aber auch eben solche, die gar nichts mit dem Paket zu tun haben wie im fall von highr für CRAN: "Provides syntax highlighting for R source Code. Currently it supports LaTeX and HTML output. Source Code of other languages is supported via Andre Simon's highlight package (https://gitlab.com/saalen/highlight)." Es gibt noch weitere Beispiele z.B. in CRAN magrittr -> vllt eher ergebnis?
% TODO sagen wann jeweils die Daten beschafft wurden also wann die Repos heruntergeladen wurden
% TODO auf die manuell beschafften Daten eingehen
% TODO in der Grafik mit den validen/ nicht validen CFF darauf eingehen, warum bei CRAN CFF keine 100 Pakete insgesamt sind -> weil gtsummary, ggpp, gginnards in der Liste von Druskat ist aber in GitHub ist gar keine CITATION.cff vorhanden.
% TODO Auf meine Ergebnisse vom Matching mit zeitverlauf eingehen. Nur die Daten zeigen, welche automatisch beschafft werden konnten.
% TODO auf average_time_between_updates_cff eingehen
% TODO auf average_time_between_updates_bib eingehen
% TODO auf average_time_between_updates_readme eingehen
% TODO auf average_lifespans eingehen
